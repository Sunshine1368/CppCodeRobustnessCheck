<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>C++ 强壮性检查</title>
  <!-- 字体与图标库 -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:opsz,wght@14..32,400;14..32,500;14..32,600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <!-- CodeMirror 核心与 C++ 模式、主题 -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.css">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/theme/eclipse.min.css">
  <!-- 自定义样式 -->
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div class="glass-panel">
    <!-- 标题行 -->
    <div class="title-section">
      <h1><i class="fa-regular fa-cube" style="margin-right: 12px;"></i>C++ 强健性检查</h1>
      <div class="code-badge">
        <i class="fa-regular fa-file-code"></i> <span>ISO/IEC 14882</span> <i class="fa-regular fa-circle-check"></i>
      </div>
    </div>

    <!-- 设置栏：版本、编译器、深色模式 -->
    <div class="settings-bar">
      <div class="setting-item">
        <label for="cppVersion"><i class="fa-regular fa-code-branch"></i> C++版本</label>
        <select id="cppVersion" class="glass-select">
          <option value="c++11">C++11</option>
          <option value="c++14">C++14</option>
          <option value="c++17" selected>C++17</option>
          <option value="c++20">C++20</option>
          <option value="c++23">C++23</option>
        </select>
      </div>
      <div class="setting-item">
        <label for="compiler"><i class="fa-regular fa-microchip"></i> 编译器</label>
        <select id="compiler" class="glass-select">
          <option value="gcc" selected>GCC</option>
          <option value="clang">Clang</option>
          <option value="msvc">MSVC</option>
        </select>
      </div>
      <div class="setting-item dark-toggle">
        <label for="darkModeToggle"><i class="fa-regular fa-moon"></i> 深色模式</label>
        <button id="darkModeToggle" class="glass-icon-btn" aria-label="切换深色模式">
          <i class="fa-regular fa-sun"></i>
        </button>
      </div>
    </div>

    <!-- 主网格：左侧（编辑器+输出），右侧报告 -->
    <div class="main-grid">
      <!-- 左侧列 -->
      <div class="left-col">
        <!-- 代码编辑器区域 -->
        <div class="code-wrapper">
          <div class="code-header">
            <i class="fa-regular fa-keyboard"></i> <span>源代码</span>
            <span style="flex:1; text-align: right; font-size: 0.85rem; opacity:0.6;">实时检查</span>
          </div>
          <textarea id="codeInput">#include &lt;iostream&gt;
#include &lt;vector&gt;
using namespace std;

int main() {
    int* p = new int(42);
    vector&lt;int&gt; v;
    v.push_back(10);
    cout &lt;&lt; "value: " &lt;&lt; *p &lt;&lt; endl;
    // 忘记 delete p
    return 0;
}</textarea>
        </div>

        <!-- 模拟输出卡片 -->
        <div class="output-card">
          <div class="output-header">
            <i class="fa-regular fa-terminal"></i> 模拟输出
            <button class="glass-button small" id="runSimBtn" style="margin-left: auto; padding: 0.3rem 1.2rem;"><i class="fa-regular fa-play"></i> 模拟运行</button>
          </div>
          <div class="output-content" id="simOutput">点击「模拟运行」查看输出</div>
        </div>
      </div>

      <!-- 右侧报告面板 -->
      <div class="result-panel">
        <div class="result-header">
          <i class="fa-regular fa-clipboard"></i> 检查报告
          <span style="font-size: 0.75rem; background: rgba(255,255,255,0.4); padding: 0.2rem 0.8rem; border-radius: 50px; margin-left: auto;">实时</span>
        </div>

        <div class="gauge-container">
          <div class="strength-score">
            <span class="score-label">强壮指数</span>
            <span class="score-value" id="scoreDisplay">73</span><span class="score-max">/100</span>
          </div>
          <div class="glowing-ring" id="gaugeRing"></div>
        </div>

        <ul class="issues-list" id="issuesList">
          <li class="list-placeholder"><i class="fa-regular fa-circle-check" style="color:#1d6f2e;"></i> 正在分析代码…</li>
        </ul>

        <div class="standard-badge" id="standardBadges">
          <span class="std-item" data-std="c++11"><i class="fa-regular fa-star"></i> C++11</span>
          <span class="std-item" data-std="c++14"><i class="fa-regular fa-star"></i> C++14</span>
          <span class="std-item" data-std="c++17"><i class="fa-regular fa-star"></i> C++17</span>
          <span class="std-item" data-std="c++20"><i class="fa-regular fa-star"></i> C++20</span>
        </div>
        
        <div style="margin-top: 0.6rem; font-size: 0.75rem; opacity: 0.65; display: flex; gap: 15px; color: #0b2c41;">
          <i class="fa-regular fa-lightbulb"></i> 检测内存、异常安全、未定义行为
        </div>
      </div>
    </div>

    <!-- 底部按钮组 -->
    <div class="actions">
      <button class="glass-button secondary" id="resetBtn"><i class="fa-regular fa-rotate-right"></i> 重置示例</button>
      <button class="glass-button" id="checkBtn"><i class="fa-regular fa-flask"></i> 执行检查</button>
    </div>
  </div>

  <!-- 脚本 -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/codemirror.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.2/mode/clike/clike.min.js"></script>
  <script src="script.js"></script>
</body>
</html>